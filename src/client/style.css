/* 8-Bit NES Console Style */

/* Reset and base styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Press Start 2P', monospace;
  font-size: 8px;
  line-height: 1.4;
  background: #1a1a1a;
  color: #ffffff;
  -webkit-font-smoothing: none;
  font-smoothing: none;
  text-rendering: optimizespeed;
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;
}

/* NES Color Palette */
:root {
  --nes-dark-gray: #2d2d2d;
  --nes-light-gray: #424242;
  --nes-white: #ffffff;
  --nes-red: #ff0000;
  --nes-blue: #0000ff;
  --nes-green: #00ff00;
  --nes-yellow: #ffff00;
  --nes-purple: #800080;
  --nes-orange: #ff8000;
  --nes-pink: #ff80ff;
  --nes-cyan: #00ffff;
  --nes-black: #000000;
  --nes-shadow: #1a1a1a;
}

/* 8-bit border effect */
.pixel-border {
  border-top: 2px solid var(--nes-white);
  border-left: 2px solid var(--nes-white);
  border-right: 2px solid var(--nes-dark-gray);
  border-bottom: 2px solid var(--nes-dark-gray);
}

.pixel-border-inset {
  border-top: 2px solid var(--nes-dark-gray);
  border-left: 2px solid var(--nes-dark-gray);
  border-right: 2px solid var(--nes-white);
  border-bottom: 2px solid var(--nes-white);
}

/* Main container */
.console-container {
  width: 100vw;
  height: 100vh;
  background: var(--nes-light-gray);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding: 0;
}

/* Header */
.console-header {
  background: var(--nes-dark-gray);
  padding: 8px;
  text-align: center;
  border-bottom: 4px solid var(--nes-shadow);
}

.title {
  font-size: 12px;
  color: var(--nes-yellow);
  text-shadow: 2px 2px 0px var(--nes-shadow);
  margin-bottom: 4px;
  letter-spacing: 1px;
}

.game-info {
  font-size: 8px;
  color: var(--nes-white);
  text-shadow: 1px 1px 0px var(--nes-shadow);
}

/* Console screen */
.console-screen {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--nes-black);
  padding: 4px;
  position: relative;
}

#console-canvas {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  border: 4px solid var(--nes-dark-gray);
  background: var(--nes-black);
}

/* Controls */
.controls {
  background: var(--nes-light-gray);
  padding: 16px 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 4px solid var(--nes-white);
  border-bottom: 4px solid var(--nes-shadow);
  min-height: 120px;
}

/* D-pad */
.dpad {
  display: grid;
  grid-template-rows: 48px 48px 48px;
  grid-template-columns: 48px 48px 48px;
  gap: 2px;
}

.dpad-up {
  grid-column: 2;
  grid-row: 1;
}

.dpad-row {
  grid-column: 1 / 4;
  grid-row: 2;
  display: flex;
  gap: 2px;
}

.dpad-left, .dpad-right {
  width: 48px;
  height: 48px;
}

.dpad-center {
  width: 48px;
  height: 48px;
  background: var(--nes-dark-gray);
  border: 2px solid var(--nes-shadow);
}

.dpad-down {
  grid-column: 2;
  grid-row: 3;
}

/* Action buttons */
.action-buttons {
  display: flex;
  gap: 12px;
  align-items: center;
}

.action-btn {
  width: 56px !important;
  height: 56px !important;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
}

#btn-b {
  background: var(--nes-red);
  color: var(--nes-white);
}

#btn-a {
  background: var(--nes-green);
  color: var(--nes-white);
}

/* Menu buttons */
.menu-buttons {
  position: absolute;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
}

#btn-start {
  background: var(--nes-dark-gray);
  color: var(--nes-white);
  padding: 8px 16px;
  font-size: 8px;
}

/* Control button base styles */
.control-btn {
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  background: var(--nes-light-gray);
  color: var(--nes-white);
  border: none;
  width: 48px;
  height: 48px;
  cursor: pointer;
  transition: none;
  text-shadow: 1px 1px 0px var(--nes-shadow);
  outline: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

.control-btn:not(.action-btn) {
  border-top: 3px solid var(--nes-white);
  border-left: 3px solid var(--nes-white);
  border-right: 3px solid var(--nes-dark-gray);
  border-bottom: 3px solid var(--nes-dark-gray);
}

.control-btn:active,
.control-btn.pressed {
  border-top: 3px solid var(--nes-dark-gray);
  border-left: 3px solid var(--nes-dark-gray);
  border-right: 3px solid var(--nes-white);
  border-bottom: 3px solid var(--nes-white);
  background: var(--nes-dark-gray);
  transform: translate(1px, 1px);
}

.action-btn:active,
.action-btn.pressed {
  border: 3px solid var(--nes-shadow);
  transform: translate(1px, 1px);
}

/* Game management */
.game-management {
  background: var(--nes-dark-gray);
  padding: 16px 12px;
  border-top: 4px solid var(--nes-white);
}

.main-actions {
  display: flex;
  gap: 8px;
  justify-content: space-between;
  margin-bottom: 12px;
}

.game-btn {
  font-family: 'Press Start 2P', monospace;
  font-size: 8px;
  padding: 12px 8px;
  border: none;
  cursor: pointer;
  text-shadow: 1px 1px 0px var(--nes-shadow);
  outline: none;
  flex: 1;
  min-height: 48px;
  transition: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

.game-btn.primary {
  background: var(--nes-green);
  color: var(--nes-white);
  border-top: 3px solid #00cc00;
  border-left: 3px solid #00cc00;
  border-right: 3px solid #004400;
  border-bottom: 3px solid #004400;
}

.game-btn.secondary {
  background: var(--nes-blue);
  color: var(--nes-white);
  border-top: 3px solid #4444ff;
  border-left: 3px solid #4444ff;
  border-right: 3px solid #000088;
  border-bottom: 3px solid #000088;
}

.game-btn.tertiary {
  background: var(--nes-orange);
  color: var(--nes-white);
  border-top: 3px solid #ffaa44;
  border-left: 3px solid #ffaa44;
  border-right: 3px solid #cc4400;
  border-bottom: 3px solid #cc4400;
}

.game-btn:active {
  border-top: 3px solid var(--nes-shadow);
  border-left: 3px solid var(--nes-shadow);
  border-right: 3px solid var(--nes-white);
  border-bottom: 3px solid var(--nes-white);
  transform: translate(1px, 1px);
}

.publish-btn {
  background: var(--nes-purple);
  color: var(--nes-white);
  border-top: 3px solid #aa44aa;
  border-left: 3px solid #aa44aa;
  border-right: 3px solid #440044;
  border-bottom: 3px solid #440044;
  width: 100%;
}

/* Modals */
.prompt-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 16px;
}

.prompt-modal {
  background: var(--nes-light-gray);
  border: 4px solid var(--nes-white);
  max-width: 400px;
  width: 100%;
  padding: 20px;
  text-align: center;
}

.prompt-modal h3 {
  font-size: 10px;
  color: var(--nes-yellow);
  margin-bottom: 16px;
  text-shadow: 1px 1px 0px var(--nes-shadow);
}

.prompt-modal p {
  font-size: 8px;
  color: var(--nes-white);
  margin-bottom: 16px;
  line-height: 1.6;
}

/* Form elements */
.form-container {
  text-align: left;
}

.form-container label {
  display: block;
  font-size: 8px;
  color: var(--nes-yellow);
  margin-bottom: 8px;
  text-shadow: 1px 1px 0px var(--nes-shadow);
}

.form-container input,
.form-container textarea {
  font-family: 'Press Start 2P', monospace;
  font-size: 8px;
  background: var(--nes-black);
  color: var(--nes-white);
  border: 2px solid var(--nes-dark-gray);
  padding: 8px;
  width: 100%;
  margin-bottom: 12px;
  outline: none;
  resize: none;
}

.form-container input:focus,
.form-container textarea:focus {
  border-color: var(--nes-yellow);
}

.form-container textarea {
  height: 80px;
}

.examples {
  font-size: 6px;
  color: var(--nes-cyan);
  margin-bottom: 16px;
  text-align: center;
}

.prompt-actions {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-top: 16px;
}

.prompt-actions .game-btn {
  flex: 1;
  max-width: 120px;
}

/* Status messages */
.status-message {
  font-size: 8px;
  text-align: center;
  margin-top: 12px;
  padding: 8px;
  background: var(--nes-dark-gray);
  border: 2px solid var(--nes-white);
}

.status-message.error {
  background: var(--nes-red);
  color: var(--nes-white);
}

.status-message.success {
  background: var(--nes-green);
  color: var(--nes-white);
}

.status-message.loading {
  background: var(--nes-blue);
  color: var(--nes-white);
}

/* Leaderboard */
#scores-list {
  background: var(--nes-black);
  border: 2px solid var(--nes-dark-gray);
  padding: 12px;
  margin: 12px 0;
  min-height: 100px;
  text-align: left;
}

.score-entry {
  font-size: 8px;
  color: var(--nes-white);
  margin-bottom: 4px;
  padding: 4px;
  border-bottom: 1px solid var(--nes-dark-gray);
}

.score-entry:last-child {
  border-bottom: none;
}

.score-rank {
  color: var(--nes-yellow);
}

.score-value {
  color: var(--nes-green);
  float: right;
}

/* Developer menu */
.dev-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 16px;
}

.test-btn {
  background: var(--nes-pink);
  color: var(--nes-black);
  border-top: 3px solid #ffaaff;
  border-left: 3px solid #ffaaff;
  border-right: 3px solid #aa44aa;
  border-bottom: 3px solid #aa44aa;
  font-size: 6px;
  padding: 8px 4px;
}

/* Mobile responsive */
@media (max-width: 480px) {
  .controls {
    padding: 12px 8px;
    min-height: 100px;
  }

  .dpad {
    grid-template-rows: 40px 40px 40px;
    grid-template-columns: 40px 40px 40px;
  }

  .dpad-left, .dpad-right, .dpad-center,
  .control-btn:not(.action-btn) {
    width: 40px;
    height: 40px;
  }

  .action-btn {
    width: 48px !important;
    height: 48px !important;
  }

  .game-btn {
    font-size: 7px;
    padding: 10px 6px;
    min-height: 44px;
  }

  .title {
    font-size: 10px;
  }

  .game-info {
    font-size: 7px;
  }
}

@media (max-width: 360px) {
  .controls {
    padding: 8px 4px;
    min-height: 90px;
  }

  .dpad {
    grid-template-rows: 36px 36px 36px;
    grid-template-columns: 36px 36px 36px;
  }

  .dpad-left, .dpad-right, .dpad-center,
  .control-btn:not(.action-btn) {
    width: 36px;
    height: 36px;
  }

  .action-btn {
    width: 44px !important;
    height: 44px !important;
    font-size: 12px;
  }

  .game-btn {
    font-size: 6px;
    padding: 8px 4px;
    min-height: 40px;
  }

  .main-actions {
    gap: 4px;
  }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 500px) {
  .console-header {
    padding: 8px;
  }

  .title {
    font-size: 10px;
    margin-bottom: 2px;
  }

  .game-info {
    font-size: 6px;
  }

  .console-screen {
    padding: 4px;
  }

  .controls {
    padding: 8px;
    min-height: 80px;
  }

  .game-management {
    padding: 8px;
  }
}

/* Hide hardware controls on desktop and maximize screen space */
@media (hover: hover) and (pointer: fine) {
  .controls {
    display: none !important;
  }

  #console-canvas {
    max-width: calc(100vh - 60px);
    max-height: calc(100vh - 60px);
  }

  .console-screen {
    margin-bottom: 0;
  }

  .console-header {
    margin-bottom: 0;
  }

  .game-management {
    margin-top: 0;
  }

  .console-container {
    padding: 0;
    margin-bottom: 0;
  }
}

/* Animation effects */
@keyframes pixel-glow {
  0% { text-shadow: 1px 1px 0px var(--nes-shadow); }
  50% { text-shadow: 1px 1px 0px var(--nes-shadow), 0 0 5px currentColor; }
  100% { text-shadow: 1px 1px 0px var(--nes-shadow); }
}

.title {
  animation: pixel-glow 2s ease-in-out infinite;
}

/* Utility classes */
.hidden {
  display: none !important;
}

.disabled {
  opacity: 0.5;
  pointer-events: none;
}

/* Focus styles for accessibility */
.control-btn:focus,
.game-btn:focus {
  outline: 2px solid var(--nes-yellow);
  outline-offset: 2px;
}